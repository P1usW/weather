{"version":3,"file":"js/about.03cca15b.js","mappings":"8LAEA,MAAMA,EAAa,CCDZC,MAAM,uEDEPC,EAAa,CCDXD,MAAM,WDERE,GCKFC,EAAAA,EAAAA,GAAqB,SAAlB,kBAAc,GDJfC,EAAa,CCKVJ,MAAM,oDDJTK,EAAa,CCUPL,MAAM,ODTZM,EAAa,CCUPN,MAAM,ODTZO,EAAa,CCUPP,MAAM,ODRZ,SAAUQ,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQC,EAAAA,EAAAA,OCVRC,EAAAA,EAAAA,IAoBM,MApBNjB,EAoBM,EAnBJI,EAAAA,EAAAA,GAAiD,KAAjDF,EAAoB,iBAAagB,EAAAA,EAAAA,IAAGR,EAAAS,OAAK,IACzCf,EAAAA,EAAAA,GAKS,UAJPH,MAAM,gEACLmB,QAAKT,EAAA,KAAAA,EAAA,IAAAU,EAAAA,EAAAA,KDYZ,IAAIC,ICZkBZ,EAAAa,QAAAb,EAAAa,UAAAD,IAAM,eACvB,WAGDnB,GACAC,EAAAA,EAAAA,GAUM,MAVNC,EAUM,GDCHW,EAAAA,EAAAA,KAAW,ICVZC,EAAAA,EAAAA,IAQKO,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IANef,EAAAgB,gBAAXC,KDSCX,EAAAA,EAAAA,OCXVC,EAAAA,EAAAA,IAQK,MAPHhB,MAAM,+CAEL2B,IAAKD,EAAQE,KAAOF,EAAQG,KAAOH,EAAQI,SAAWC,KAAKC,UDWzD,ECTH7B,EAAAA,EAAAA,GAAoD,KAApDE,EAAgB,iBAAaY,EAAAA,EAAAA,IAAGS,EAAQG,MAAI,IAC5C1B,EAAAA,EAAAA,GAA8C,KAA9CG,EAAgB,WAAOW,EAAAA,EAAAA,IAAGS,EAAQE,MAAI,IACtCzB,EAAAA,EAAAA,GAAmD,KAAnDI,EAAgB,YAAQU,EAAAA,EAAAA,IAAGS,EAAQI,UAAQ,QDYzC,SAGV,C,YCMA,GAAeG,EAAAA,EAAAA,IAAgB,CAC7BC,KAAM,cACNC,IAAAA,GACE,MAAO,CACLjB,MAAO,GACPO,eAAgB,GAEpB,EACAW,YAAAA,GACOC,KAAKC,OAAOC,MAAMC,aAAaH,KAAKI,QAAQC,KAAK,SACxD,EACAC,QAAS,CACPrB,MAAAA,GACEe,KAAKC,OAAOM,OAAO,UACnBP,KAAKI,QAAQC,KAAK,QACpB,EACA,aAAMG,GACJ,MAAMC,EAAQT,KAAKC,OAAOC,MAAMC,YAChC,GAAIM,EACF,aAAaC,MAAM,GAAGC,SAASC,qBAAsB,CACnDC,QAAS,CACPC,cAAeL,IAGvB,GAEFM,WAAAA,GACEf,KAAKQ,UACFQ,MAAMC,GAAaA,GAAUC,SAC7BF,MAAMG,IACiB,qBAAXA,IACTnB,KAAKnB,MAAQsC,EAAOtC,MACpBmB,KAAKZ,eAAiB+B,EAAO/B,e,IAGhCgC,OAAOC,GAAMC,QAAQC,IAAIF,IAC9B,I,QCtEF,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASrD,KAEpE,O","sources":["webpack://frontend/./src/views/ProfileView.vue?ff41","webpack://frontend/./src/views/ProfileView.vue","webpack://frontend/./src/views/ProfileView.vue?3e49"],"sourcesContent":["import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"w-full min-h-screen flex flex-col justify-center items-center gap-3\" }\nconst _hoisted_2 = { class: \"text-lg\" }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"p\", null, \"История погоды\", -1)\nconst _hoisted_4 = { class: \"flex flex-wrap justify-center align-middle gap-4\" }\nconst _hoisted_5 = { class: \"m-2\" }\nconst _hoisted_6 = { class: \"m-2\" }\nconst _hoisted_7 = { class: \"m-2\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"h2\", _hoisted_2, \"Пользователь \" + _toDisplayString(_ctx.email), 1),\n    _createElementVNode(\"button\", {\n      class: \"border-2 border-solid rounded bg-slate-500 hover:bg-slate-700\",\n      onClick: _cache[0] || (_cache[0] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.logout && _ctx.logout(...args)), [\"prevent\"]))\n    }, \" Выйти \"),\n    _hoisted_3,\n    _createElementVNode(\"div\", _hoisted_4, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.weatherHistory, (weather) => {\n        return (_openBlock(), _createElementBlock(\"ul\", {\n          class: \"w-64 border-2 border-solid rounded list-none\",\n          key: weather.wind + weather.temp + weather.rainfall + Math.random()\n        }, [\n          _createElementVNode(\"li\", _hoisted_5, \"Температура: \" + _toDisplayString(weather.temp), 1),\n          _createElementVNode(\"li\", _hoisted_6, \"Ветер: \" + _toDisplayString(weather.wind), 1),\n          _createElementVNode(\"li\", _hoisted_7, \"Осадки: \" + _toDisplayString(weather.rainfall), 1)\n        ]))\n      }), 128))\n    ])\n  ]))\n}","<template>\r\n  <div class=\"w-full min-h-screen flex flex-col justify-center items-center gap-3\">\r\n    <h2 class=\"text-lg\">Пользователь {{ email }}</h2>\r\n    <button\r\n      class=\"border-2 border-solid rounded bg-slate-500 hover:bg-slate-700\"\r\n      @click.prevent=\"logout\"\r\n    >\r\n      Выйти\r\n    </button>\r\n    <p>История погоды</p>\r\n    <div class=\"flex flex-wrap justify-center align-middle gap-4\">\r\n      <ul\r\n        class=\"w-64 border-2 border-solid rounded list-none\"\r\n        v-for=\"weather in weatherHistory\"\r\n        :key=\"weather.wind + weather.temp + weather.rainfall + Math.random()\"\r\n      >\r\n        <li class=\"m-2\">Температура: {{ weather.temp }}</li>\r\n        <li class=\"m-2\">Ветер: {{ weather.wind }}</li>\r\n        <li class=\"m-2\">Осадки: {{ weather.rainfall }}</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue';\r\n\r\ntype WeatherHistory = {\r\n  city: string;\r\n  temp: number;\r\n  wind: number;\r\n  rainfall: number;\r\n};\r\n\r\ntype UserInfo = {\r\n  email: string;\r\n  weatherHistory: WeatherHistory[];\r\n};\r\n\r\nexport default defineComponent({\r\n  name: 'ProfileView',\r\n  data(): UserInfo {\r\n    return {\r\n      email: '',\r\n      weatherHistory: [],\r\n    };\r\n  },\r\n  beforeCreate() {\r\n    if (!this.$store.state.accessToken) this.$router.push('/login');\r\n  },\r\n  methods: {\r\n    logout() {\r\n      this.$store.commit('logout');\r\n      this.$router.push('login');\r\n    },\r\n    async getUser() {\r\n      const token = this.$store.state.accessToken;\r\n      if (token)\r\n        return await fetch(`${location.origin}/api/profile`, {\r\n          headers: {\r\n            Authorization: token,\r\n          },\r\n        });\r\n    },\r\n  },\r\n  beforeMount() {\r\n    this.getUser()\r\n      .then((response) => response?.json())\r\n      .then((result) => {\r\n        if (typeof result !== 'undefined') {\r\n          this.email = result.email;\r\n          this.weatherHistory = result.weatherHistory;\r\n        }\r\n      })\r\n      .catch((e) => console.log(e));\r\n  },\r\n});\r\n</script>\r\n","import { render } from \"./ProfileView.vue?vue&type=template&id=4fc0cb48&ts=true\"\nimport script from \"./ProfileView.vue?vue&type=script&lang=ts\"\nexport * from \"./ProfileView.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_createElementVNode","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_toDisplayString","email","onClick","_withModifiers","args","logout","_Fragment","_renderList","weatherHistory","weather","key","wind","temp","rainfall","Math","random","defineComponent","name","data","beforeCreate","this","$store","state","accessToken","$router","push","methods","commit","getUser","token","fetch","location","origin","headers","Authorization","beforeMount","then","response","json","result","catch","e","console","log","__exports__"],"sourceRoot":""}