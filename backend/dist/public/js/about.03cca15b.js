"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[443],{6430:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var r=s(3396),o=s(7139),i=s(9242);const n={class:"w-full min-h-screen flex flex-col justify-center items-center gap-3"},l={class:"text-lg"},a=(0,r._)("p",null,"История погоды",-1),c={class:"flex flex-wrap justify-center align-middle gap-4"},u={class:"m-2"},h={class:"m-2"},d={class:"m-2"};function f(e,t,s,f,w,g){return(0,r.wg)(),(0,r.iD)("div",n,[(0,r._)("h2",l,"Пользователь "+(0,o.zw)(e.email),1),(0,r._)("button",{class:"border-2 border-solid rounded bg-slate-500 hover:bg-slate-700",onClick:t[0]||(t[0]=(0,i.iM)(((...t)=>e.logout&&e.logout(...t)),["prevent"]))}," Выйти "),a,(0,r._)("div",c,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.weatherHistory,(e=>((0,r.wg)(),(0,r.iD)("ul",{class:"w-64 border-2 border-solid rounded list-none",key:e.wind+e.temp+e.rainfall+Math.random()},[(0,r._)("li",u,"Температура: "+(0,o.zw)(e.temp),1),(0,r._)("li",h,"Ветер: "+(0,o.zw)(e.wind),1),(0,r._)("li",d,"Осадки: "+(0,o.zw)(e.rainfall),1)])))),128))])])}s(7658);var w=(0,r.aZ)({name:"ProfileView",data(){return{email:"",weatherHistory:[]}},beforeCreate(){this.$store.state.accessToken||this.$router.push("/login")},methods:{logout(){this.$store.commit("logout"),this.$router.push("login")},async getUser(){const e=this.$store.state.accessToken;if(e)return await fetch(`${location.origin}/api/profile`,{headers:{Authorization:e}})}},beforeMount(){this.getUser().then((e=>e?.json())).then((e=>{"undefined"!==typeof e&&(this.email=e.email,this.weatherHistory=e.weatherHistory)})).catch((e=>console.log(e)))}}),g=s(89);const m=(0,g.Z)(w,[["render",f]]);var p=m}}]);
//# sourceMappingURL=about.03cca15b.js.map